{% extends 'index.html.twig' %}

{% block title %}Profile{% endblock %}


{% block body %}

	<style>
		.card-img-top{
			height: 21rem;
			object-fit: cover;
			width: 100%;
		}
	</style>
	
	
    <section class="py-5 text-center container">
    <div class="row pb-lg-5">
      <div class="col-lg-8 col-md-8 mx-auto">
        <h3 class="fw-light">{{user.login}}</h3>
		<div class="d-flex justify-content-center">
			<p class="lead mr-3 my-2">Liczba dodanych ogłoszeń: </p>
			<p class="lead text-muted mr-5 my-2">{{how_many_photos}}</p>
			<p class="lead mr-3 my-2">Data dodania ostatniego ogłoszenia: </p>
      {% if how_many_photos  == 0 %}
				<p class="lead text-muted mr-3 my-2">-</p>
			{% else %}
				<p class="lead text-muted mr-3 my-2">{{last_post.createdTime}}</p>
			{% endif %}
		</div>
      </div>
    </div>
  </section>
  
  <div class="album py-5 bg-light">
    <div class="container">

      <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
	  
    {% if how_many_photos != "0" %}
      {% for post in my_posts %}
        <div class="col">		
          <div class="card shadow-sm mb-3">
      <a href="/post/show/{{post.idPost}}">
			<button name="zdj" class="btn p-0 photo-shadow">
				<img class="card-img-top img-fluid" src="{{post.imgSource}}" alt="Photo">
      </button>
      </a>
            <div class="card-body">			
              <div class="d-flex justify-content-between align-items-center">
				<div>
					<small class="mx-1">{{post.title}}</small>
				</div>
                <small class="text-muted">{{post.createdTime}}</small>
              </div>
            </div>
          </div>		  
        </div>
      {% endfor %}
    {% else %}
      Nie masz ogłoszeń!
    {% endif %}
	</div>
	</div>
	

{% endblock %}